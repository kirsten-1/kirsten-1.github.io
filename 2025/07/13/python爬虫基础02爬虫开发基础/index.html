<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="这里是 Hilda 的个人博客，与你一起发现更大的世界 | 要做一个有 swag 的程序员">
    <meta name="keywords" content="Hilda">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title"
        content="python爬虫基础02-爬虫开发基础 - Hilda的博客 | Your genius girlfriend's blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="

">
    
    <meta property="article:published_time" content=" 2025-07-13T00:00:00Z">
    
    
    <meta property="article:author" content="Hilda">
    
    
    <meta property="article:tag" content="python爬虫">
    
    
    <meta property="og:image" content="https://kirsten-1.github.io">
    <meta property="og:url" content="https://kirsten-1.github.io/2025/07/13/python%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%8002%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/">
    <meta property="og:site_name" content="Hilda的博客 | Your genius girlfriend's blog">

    <title>python爬虫基础02-爬虫开发基础 - Hilda的博客 | Your genius girlfriend's blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://kirsten-1.github.io/2025/07/13/python%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%8002%E7%88%AC%E8%99%AB%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>

    <!-- Google AdSense -->
    <script data-ad-client="ca-pub-6487568398225121" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Hilda</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>

    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-2015.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-2015.jpg');
        background: ;
    }

    
</style>




<header class="intro-header" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=python%E7%88%AC%E8%99%AB" title="python爬虫">python爬虫</a>
                        
                    </div>
                    <h1>python爬虫基础02-爬虫开发基础</h1>
                    
                    <h2 class="subheading">HTTP/HTTPS是网络协议，HTTP无状态，HTTPS加密安全。URL是URI子集，包含协议、主机等。爬虫需模拟HTTP请求，处理Cookie和Session，解析JSON数据，分析AJAX动态内容，推荐用Chrome DevTools和requests库。</h2>
                    <span class="meta">Posted by Hilda on July 13, 2025</span>
                </div>
            </div>
        </div>
    </div>
</header>







<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG">
</script>

<p>推荐一个json的在线解析器：json.cn</p>

<h1 id="1http与https">1、HTTP与HTTPS</h1>

<h2 id="1http">(1)HTTP</h2>

<p><strong>HTTP (HyperText Transfer Protocol)</strong>：超文本传输协议，是互联网上应用最为广泛的一种网络协议。它是一个基于请求与响应模式的、无状态的应用层协议，常用于传输超文本（如HTML）、图片、视频等资源。</p>

<p>● <strong>无状态 (Stateless)</strong>：HTTP 协议是无状态的，这意味着服务器不会保存客户端的任何信息。每次请求都是独立的，服务器无法直接知道两次请求是否来自同一个客户端。为了解决这个问题，通常会结合 Cookie 和 Session 来维护状态。</p>

<p>● <strong>请求-响应模式 (Request-Response Model)</strong>：客户端（如浏览器或爬虫）向服务器发送请求，服务器接收请求后处理，并返回响应。</p>

<p>● <strong>常用方法 (Methods)</strong>：</p>

<p>○ <strong>GET</strong>：从服务器获取资源。是最常用的方法，通常用于请求网页、图片等。请求参数会附加在 URL 后面。</p>

<p>○ <strong>POST</strong>：向服务器提交数据。常用于提交表单、上传文件等。请求参数放在请求体中，安全性相对较高（参数不会直接显示在URL中）。</p>

<p>○ <strong>PUT</strong>：向服务器上传完整资源，如果资源已存在则更新，不存在则创建。</p>

<p>○ <strong>DELETE</strong>：删除服务器上的指定资源。</p>

<p>○ <strong>HEAD</strong>：与 GET 类似，但服务器只返回响应头，不返回响应体。常用于检查资源是否存在或获取元信息。</p>

<p>○ <strong>OPTIONS</strong>：查询服务器支持的请求方法。</p>

<blockquote>
  <p>get与post的区别</p>

  <ul>
    <li>Get是不安全的，因为在传输过程，数据被放在请求的URL中；Post的所有操作对用户来说都是不可见的。</li>
    <li>Get传送的数据量较小，这主要是因为受URL长度限制,不能大于2kb；Post传送的数据量较大，一般被默认为不受限制。</li>
    <li>Get限制Form表单的数据集的值必须为ASCII字符；而Post支持整个ISO10646字符集。</li>
    <li>Get执行效率却比Post方法好。Get是form提交的默认方法。</li>
  </ul>
</blockquote>

<p>以上是网站开发中常用的两种方法。并且一般情况下都会遵循使用的原则。</p>

<p>但是有的网站和服务器为了做反爬虫机制，也经常会不按常理出牌。有可能一个应该使用get方法的请求就一定要改成post请求，这个要视情况而定。</p>

<p>比如：拉勾 <code class="language-plaintext highlighter-rouge">https://www.lagou.com/jobs/list_python?labelWords=&amp;fromSearch=true&amp;suginput= </code></p>

<hr />

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c1"># 导入requests库  一个非常流行的用于发送HTTP请求的库
</span><span class="kn">import</span> <span class="n">requests</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">http_url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">http://httpbin.org/get</span><span class="sh">"</span>  <span class="c1"># 目前可以访问到
</span>    <span class="n">response_http</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">http_url</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP请求状态码:</span><span class="si">{</span><span class="n">response_http</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP响应内容:</span><span class="si">{</span><span class="n">response_http</span><span class="p">.</span><span class="n">text</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP响应的类型:</span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">response_http</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># requests.models.Response
</span>    <span class="n">dic_res</span> <span class="o">=</span> <span class="n">response_http</span><span class="p">.</span><span class="n">__dict__</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dic_res</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTP请求发生错误:</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>输出结果：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="n">HTTP请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">HTTP响应内容</span><span class="p">:{</span>
  <span class="sh">"</span><span class="s">args</span><span class="sh">"</span><span class="p">:</span> <span class="p">{},</span> 
  <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">Accept</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">*/*</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">Accept-Encoding</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">gzip, deflate</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">Host</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">httpbin.org</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">User-Agent</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">python-requests/2.28.2</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">X-Amzn-Trace-Id</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Root=1-68729b09-5631afa501ad9a0c6a532b6d</span><span class="sh">"</span>
  <span class="p">},</span> 
  <span class="sh">"</span><span class="s">origin</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">159.89.197.90</span><span class="sh">"</span><span class="p">,</span> 
  <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">http://httpbin.org/get</span><span class="sh">"</span>
<span class="p">}</span>

<span class="n">HTTP响应的类型</span><span class="p">:</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">requests</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">Response</span><span class="sh">'</span><span class="s">&gt;
_content: b</span><span class="sh">'</span><span class="p">{</span>\<span class="n">n</span>  <span class="sh">"</span><span class="s">args</span><span class="sh">"</span><span class="p">:</span> <span class="p">{},</span> \<span class="n">n</span>  <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>\<span class="n">n</span>    <span class="sh">"</span><span class="s">Accept</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">*/*</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">Accept-Encoding</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">gzip, deflate</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">Host</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">httpbin.org</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">User-Agent</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">python-requests/2.28.2</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">X-Amzn-Trace-Id</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Root=1-68729b09-5631afa501ad9a0c6a532b6d</span><span class="sh">"</span>\<span class="n">n</span>  <span class="p">},</span> \<span class="n">n</span>  <span class="sh">"</span><span class="s">origin</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">159.89.197.90</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>  <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">http://httpbin.org/get</span><span class="sh">"</span>\<span class="n">n</span><span class="p">}</span>\<span class="n">n</span><span class="sh">'</span><span class="s">
_content_consumed: True
_next: None
status_code: 200
headers: {</span><span class="sh">'</span><span class="n">Connection</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">close</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="mi">306</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Access</span><span class="o">-</span><span class="n">Control</span><span class="o">-</span><span class="n">Allow</span><span class="o">-</span><span class="n">Credentials</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">true</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Access</span><span class="o">-</span><span class="n">Control</span><span class="o">-</span><span class="n">Allow</span><span class="o">-</span><span class="n">Origin</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="o">*</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Date</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">Sat</span><span class="p">,</span> <span class="mi">12</span> <span class="n">Jul</span> <span class="mi">2025</span> <span class="mi">17</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">37</span> <span class="n">GMT</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Server</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">gunicorn</span><span class="o">/</span><span class="mf">19.9</span><span class="p">.</span><span class="mi">0</span><span class="sh">'</span><span class="s">}
raw: &lt;urllib3.response.HTTPResponse object at 0x7fa89f5ec760&gt;
url: http://httpbin.org/get
encoding: utf-8
history: []
reason: OK
cookies: &lt;RequestsCookieJar[]&gt;
elapsed: 0:00:00.821807
request: &lt;PreparedRequest [GET]&gt;
connection: &lt;requests.adapters.HTTPAdapter object at 0x7fa89f58ee80&gt;
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="2https">(2)HTTPS</h2>

<p><strong>HTTPS (HyperText Transfer Protocol Secure)</strong>：超文本传输安全协议，是 HTTP 的安全版本。它在 HTTP 和 TCP 之间加入了一层 <strong>SSL/TLS (Secure Sockets Layer/Transport Layer Security)</strong> 协议，对网络通信进行加密。</p>

<p>● <strong>安全性 (Security)</strong>：HTTPS 通过 SSL/TLS 协议提供了数据加密、身份认证和数据完整性保护。</p>

<p>○ <strong>加密 (Encryption)</strong>：防止数据在传输过程中被窃听。</p>

<p>○ <strong>身份认证 (Authentication)</strong>：通过数字证书验证服务器的身份，防止中间人攻击。</p>

<p>○ <strong>数据完整性 (Data Integrity)</strong>：确保数据在传输过程中没有被篡改。</p>

<p>● <strong>端口 (Port)</strong>：HTTP 默认使用 80 端口，HTTPS 默认使用 443 端口。</p>

<p>● <strong>重要性 (Importance)</strong>：对于涉及用户隐私（如登录信息、支付数据）或敏感数据的网站，强制使用 HTTPS 是行业标准。作为爬虫开发者，需要能够处理 HTTPS 请求。</p>

<hr />

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">requests</span>
<span class="c1"># 请求HTTPS
</span><span class="k">try</span><span class="p">:</span>
    <span class="n">https_url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://httpbin.org/get</span><span class="sh">"</span> <span class="c1"># 测试相同的网站，但是用Https
</span>    <span class="n">response_http</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">https_url</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTPS请求状态码:</span><span class="si">{</span><span class="n">response_http</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTPS响应内容:</span><span class="si">{</span><span class="n">response_http</span><span class="p">.</span><span class="n">text</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTPS响应的类型:</span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">response_http</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># requests.models.Response
</span>    <span class="n">dic_res</span> <span class="o">=</span> <span class="n">response_http</span><span class="p">.</span><span class="n">__dict__</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">dic_res</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">HTTPS请求发生错误:</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>输出结果：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre><span class="n">HTTPS请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">HTTPS响应内容</span><span class="p">:{</span>
  <span class="sh">"</span><span class="s">args</span><span class="sh">"</span><span class="p">:</span> <span class="p">{},</span> 
  <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">Accept</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">*/*</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">Accept-Encoding</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">gzip, deflate</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">Host</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">httpbin.org</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">User-Agent</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">python-requests/2.28.2</span><span class="sh">"</span><span class="p">,</span> 
    <span class="sh">"</span><span class="s">X-Amzn-Trace-Id</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Root=1-68729b0a-274b1e9547432e155b64394d</span><span class="sh">"</span>
  <span class="p">},</span> 
  <span class="sh">"</span><span class="s">origin</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">159.89.197.90</span><span class="sh">"</span><span class="p">,</span> 
  <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">https://httpbin.org/get</span><span class="sh">"</span>
<span class="p">}</span>

<span class="n">HTTPS响应的类型</span><span class="p">:</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">requests</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">Response</span><span class="sh">'</span><span class="s">&gt;
_content: b</span><span class="sh">'</span><span class="p">{</span>\<span class="n">n</span>  <span class="sh">"</span><span class="s">args</span><span class="sh">"</span><span class="p">:</span> <span class="p">{},</span> \<span class="n">n</span>  <span class="sh">"</span><span class="s">headers</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>\<span class="n">n</span>    <span class="sh">"</span><span class="s">Accept</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">*/*</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">Accept-Encoding</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">gzip, deflate</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">Host</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">httpbin.org</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">User-Agent</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">python-requests/2.28.2</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>    <span class="sh">"</span><span class="s">X-Amzn-Trace-Id</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Root=1-68729b0a-274b1e9547432e155b64394d</span><span class="sh">"</span>\<span class="n">n</span>  <span class="p">},</span> \<span class="n">n</span>  <span class="sh">"</span><span class="s">origin</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">159.89.197.90</span><span class="sh">"</span><span class="p">,</span> \<span class="n">n</span>  <span class="sh">"</span><span class="s">url</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">https://httpbin.org/get</span><span class="sh">"</span>\<span class="n">n</span><span class="p">}</span>\<span class="n">n</span><span class="sh">'</span><span class="s">
_content_consumed: True
_next: None
status_code: 200
headers: {</span><span class="sh">'</span><span class="n">Date</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">Sat</span><span class="p">,</span> <span class="mi">12</span> <span class="n">Jul</span> <span class="mi">2025</span> <span class="mi">17</span><span class="p">:</span><span class="mi">27</span><span class="p">:</span><span class="mi">38</span> <span class="n">GMT</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">application</span><span class="o">/</span><span class="n">json</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="mi">307</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Connection</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">keep</span><span class="o">-</span><span class="n">alive</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Server</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">gunicorn</span><span class="o">/</span><span class="mf">19.9</span><span class="p">.</span><span class="mi">0</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Access</span><span class="o">-</span><span class="n">Control</span><span class="o">-</span><span class="n">Allow</span><span class="o">-</span><span class="n">Origin</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="o">*</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Access</span><span class="o">-</span><span class="n">Control</span><span class="o">-</span><span class="n">Allow</span><span class="o">-</span><span class="n">Credentials</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">true</span><span class="sh">'</span><span class="s">}
raw: &lt;urllib3.response.HTTPResponse object at 0x7fa89f5ecd00&gt;
url: https://httpbin.org/get
encoding: utf-8
history: []
reason: OK
cookies: &lt;RequestsCookieJar[]&gt;
elapsed: 0:00:01.417405
request: &lt;PreparedRequest [GET]&gt;
connection: &lt;requests.adapters.HTTPAdapter object at 0x7fa89f111fa0&gt;
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="3学习代码参考-post请求">(3)学习代码参考-POST请求</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">requests</span>
<span class="c1"># POST请求
</span><span class="k">try</span><span class="p">:</span>
    <span class="n">post_url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://httpbin.org/post</span><span class="sh">"</span> <span class="c1"># 测试相同的网站，但是用Https
</span>    <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">k1</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">v1</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">k2</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">v2</span><span class="sh">"</span><span class="p">}</span>
    <span class="n">response_http</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="n">post_url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">post请求状态码:</span><span class="si">{</span><span class="n">response_http</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">post响应的类型:</span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">response_http</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># requests.models.Response
</span>    <span class="c1"># 对于POST请求，响应通常是JSON格式
</span>    <span class="n">cont_json</span> <span class="o">=</span> <span class="n">response_http</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">cont_json</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">post请求发生错误:</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>运行输出：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="n">post请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">post响应的类型</span><span class="p">:</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">requests</span><span class="p">.</span><span class="n">models</span><span class="p">.</span><span class="n">Response</span><span class="sh">'</span><span class="s">&gt;
args: {}
data: 
files: {}
form: {</span><span class="sh">'</span><span class="n">k1</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">v1</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">k2</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">v2</span><span class="sh">'</span><span class="s">}
headers: {</span><span class="sh">'</span><span class="n">Accept</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="o">*/*</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Accept</span><span class="o">-</span><span class="n">Encoding</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">gzip</span><span class="p">,</span> <span class="n">deflate</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="mi">11</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">application</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">www</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="n">urlencoded</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">Host</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">httpbin</span><span class="p">.</span><span class="n">org</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">User</span><span class="o">-</span><span class="n">Agent</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">python</span><span class="o">-</span><span class="n">requests</span><span class="o">/</span><span class="mf">2.28</span><span class="p">.</span><span class="mi">2</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">X</span><span class="o">-</span><span class="n">Amzn</span><span class="o">-</span><span class="n">Trace</span><span class="o">-</span><span class="n">Id</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">Root</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="mi">68729</span><span class="n">d13</span><span class="o">-</span><span class="mi">5</span><span class="n">ab393045bd464f1135de2da</span><span class="sh">'</span><span class="s">}
json: None
origin: 159.89.197.90
url: https://httpbin.org/post
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="4习题">(4)习题</h2>

<p>请使用 requests 库向<code class="language-plaintext highlighter-rouge"> https://www.baidu.com/ </code>发送一个 GET 请求，并打印其响应状态码和响应内容的长度。</p>

<p>参考答案：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">requests</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://www.baidu.com/</span><span class="sh">"</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">响应状态码:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">响应内容的长度:</span><span class="si">{</span><span class="nf">len</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">text</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">请求百度出现异常:</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713014136187.png" alt="image-20250713014136187" style="zoom:50%;" /></p>

<h1 id="2url与uri">2、URL与URI</h1>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713014529122.png" alt="image-20250713014529122" style="zoom:50%;" /></p>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713014457388.png" alt="image-20250713014457388" style="zoom:50%;" /></p>

<p><strong>URI (Uniform Resource Identifier)</strong>：统一资源标识符。它是一个通用概念，用于唯一标识互联网上的任何资源。URI 可以是资源的名称，也可以是资源的地址。</p>

<p><strong>URL (Uniform Resource Locator)</strong>：统一资源定位符。它是 URI 的一个子集，不仅标识了资源，还指明了如何定位（获取）该资源。简单来说，URL 提供了资源的“地址”。所有的 URL 都是 URI，但不是所有的 URI 都是 URL。</p>

<p><strong>URL 的组成部分：</strong></p>

<p>一个典型的 URL 结构如下：</p>

<p><code class="language-plaintext highlighter-rouge">scheme://host:port/path?query#fragment</code></p>

<p>● <strong>scheme (协议)</strong>：指定用于访问资源的协议。常见的有 http、https、ftp、file 等。</p>

<p>○ 示例：https</p>

<p>● <strong>host (主机)</strong>：指定资源所在的服务器的域名或 IP 地址。</p>

<p>○ 示例：www.example.com 或 192.168.1.1</p>

<p>● <strong>port (端口)</strong>：可选。指定服务器上用于通信的端口号。如果使用协议的默认端口（HTTP 80，HTTPS 443），则可以省略。</p>

<p>○ 示例：8080 (如果 URL 是 http://www.example.com:8080/)</p>

<p>● <strong>path (路径)</strong>：指定服务器上资源的具体路径。</p>

<p>○ 示例：<code class="language-plaintext highlighter-rouge">/path/to/resource.html</code></p>

<p>● <strong>query (查询参数)</strong>：可选。以<code class="language-plaintext highlighter-rouge"> ?</code> 开头，后面跟着一系列 <code class="language-plaintext highlighter-rouge">key=value </code>对，多个键值对之间用 <code class="language-plaintext highlighter-rouge">&amp;</code> 连接。用于向服务器传递额外的数据，常用于搜索、过滤等。</p>

<p>○ 示例：<code class="language-plaintext highlighter-rouge">?name=John&amp;age=30</code></p>

<p>● <strong>fragment (片段标识符)</strong>：可选。以 <code class="language-plaintext highlighter-rouge">#</code> 开头，用于标识资源内部的某个部分。通常用于浏览器内部跳转到页面的特定锚点，不会发送到服务器。</p>

<p>○ 示例：<code class="language-plaintext highlighter-rouge">#section1</code></p>

<hr />

<p><strong>示例：</strong></p>

<p>● <code class="language-plaintext highlighter-rouge">https://www.google.com/search?q=python%E7%88%AC%E8%99%AB#top</code></p>

<p>○ scheme: https</p>

<p>○ host: <code class="language-plaintext highlighter-rouge">www.google.com</code></p>

<p>○ path: <code class="language-plaintext highlighter-rouge">/search</code></p>

<p>○ query: <code class="language-plaintext highlighter-rouge">q=python%E7%88%AC%E8%99%AB</code></p>

<p>○ fragment:<code class="language-plaintext highlighter-rouge"> top</code></p>

<h2 id="1代码学习参考">(1)代码学习参考</h2>

<p>Python 的 <code class="language-plaintext highlighter-rouge">urllib.parse</code> 模块提供了处理 URL 的强大功能。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">urllib.parse</span> <span class="kn">import</span> <span class="n">urlparse</span><span class="p">,</span> <span class="n">parse_qs</span>

<span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">http://www.example.com:8080/path/to/resource.html?param1=value1&amp;param2=value2#section_id</span><span class="sh">"</span>
<span class="n">parsed_url</span> <span class="o">=</span> <span class="nf">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">协议:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">scheme</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">host:port:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">netloc</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">主机:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">hostname</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">端口:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">port</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">路径:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">path</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">查询参数字符串:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">query</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">片段标识符:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">fragment</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># 查询参数字符串---&gt;字典
</span><span class="n">query_params_dict</span> <span class="o">=</span> <span class="nf">parse_qs</span><span class="p">(</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">query</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">解析后的查询参数:</span><span class="si">{</span><span class="n">query_params_dict</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="c1"># parse_qs返回字典，值是列表
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">获取param1的值:</span><span class="si">{</span><span class="n">query_params_dict</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">param1</span><span class="sh">'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713141144271.png" alt="image-20250713141144271" /></p>

<h2 id="2习题">(2)习题</h2>

<p>请解析以下 URL，并打印其 scheme、hostname 和 path。</p>

<p><code class="language-plaintext highlighter-rouge">ftp://ftp.example.org/pub/files/document.pdf</code></p>

<hr />

<p>参考答案：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">urllib.parse</span> <span class="kn">import</span> <span class="n">urlparse</span><span class="p">,</span> <span class="n">parse_qs</span>

<span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">ftp://ftp.example.org/pub/files/document.pdf</span><span class="sh">"</span>
<span class="n">parsed_url</span> <span class="o">=</span> <span class="nf">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="c1"># 打印其 scheme、hostname 和 path。
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">scheme:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">scheme</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">主机名:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">hostname</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">path:</span><span class="si">{</span><span class="n">parsed_url</span><span class="p">.</span><span class="n">path</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="3http的请求过程">3、HTTP的请求过程</h1>

<p>HTTP 请求过程是客户端（通常是浏览器或您的爬虫程序）与服务器之间进行通信的一系列步骤。理解这个过程对于爬虫开发者至关重要，因为它能帮助模拟真实的用户行为，解决爬取中遇到的问题。</p>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713191808873.png" alt="image-20250713191808873" style="zoom: 67%;" /></p>

<p>以下是 HTTP 请求的典型过程：</p>

<ul>
  <li><strong>DNS 解析 (DNS Resolution)</strong>：</li>
</ul>

<p>○ 当您输入一个域名（如<code class="language-plaintext highlighter-rouge"> www.example.com</code>）时，客户端首先需要知道这个域名对应的 IP 地址。</p>

<p>○ 客户端会向 DNS 服务器发送查询请求，将域名解析为 IP 地址。</p>

<p>○ 如果本地有缓存，则直接使用缓存；否则，会进行递归/迭代查询直到找到对应的 IP 地址。</p>

<p>○ <strong>爬虫模拟：</strong> requests 库会自动处理 DNS 解析，您通常无需手动干预。</p>

<ul>
  <li><strong>建立 TCP 连接 (TCP Connection Establishment)</strong>：</li>
</ul>

<p>○ 一旦获得了服务器的 IP 地址，客户端会尝试与服务器建立一个 TCP 连接。</p>

<p>○ 这通常通过“三次握手”完成：</p>

<p>■ 客户端发送 SYN (同步序列号) 包到服务器。</p>

<p>■ 服务器收到 SYN 包后，发送 SYN-ACK (同步-确认) 包给客户端。</p>

<p>■ 客户端收到 SYN-ACK 包后，发送 ACK (确认) 包给服务器。</p>

<p>○ 连接建立后，客户端和服务器之间就可以可靠地传输数据了。</p>

<p>○ <strong>爬虫模拟：</strong> requests 库同样会自动处理 TCP 连接的建立和管理。</p>

<ul>
  <li><strong>发送 HTTP 请求 (Sending HTTP Request)</strong>：</li>
</ul>

<p>○ TCP 连接建立后，客户端会构建一个 HTTP 请求报文，并将其发送给服务器。</p>

<p>○ HTTP 请求报文通常包含以下部分：</p>

<p>■ <strong>请求行 (Request Line)</strong>：</p>

<p>■ 方法 (Method)：如 GET, POST。</p>

<p>■ URL (Uniform Resource Locator)：要请求的资源路径。</p>

<p>■ HTTP 版本 (HTTP Version)：如 HTTP/1.1。</p>

<p>■ 示例：GET /index.html HTTP/1.1</p>

<p>■ <strong>请求头 (Request Headers)</strong>：</p>

<p>■ 提供关于请求或客户端的附加信息。</p>

<p>■ <strong>Host</strong>: 目标服务器的域名和端口，必需。</p>

<p>■ <strong>User-Agent</strong>: 客户端（浏览器或爬虫）的身份标识。<strong>对爬虫非常重要，很多网站会根据 User-Agent 来判断是否是爬虫。</strong></p>

<p>■ <strong>Accept</strong>: 客户端能处理的媒体类型。</p>

<p>■ <strong>Referer</strong>: 指示请求的来源页面。<strong>对爬虫也很重要，有些网站会检查 Referer 来防止直接访问。</strong></p>

<p>■ <strong>Cookie</strong>: 客户端发送给服务器的 Cookie 信息（如果有的话）。</p>

<p>■ <strong>Content-Type</strong>: POST 请求中请求体的媒体类型（如 application/x-www-form-urlencoded 或 application/json）。</p>

<p>■ <strong>Content-Length</strong>: POST 请求中请求体的长度。</p>

<p>■ 示例：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>Host: www.example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.88 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
</pre></td></tr></tbody></table></code></pre></div></div>

<p>■ <strong>请求体 (Request Body)</strong>：</p>

<p>■ 可选。主要用于 POST、PUT 等方法，包含要发送到服务器的数据（如表单数据、JSON 数据）。</p>

<p>○ <strong>爬虫模拟：</strong> requests 库允许您轻松地设置请求方法、URL、请求头和请求体。</p>

<ul>
  <li><strong>服务器处理请求 (Server Processing)</strong>：</li>
</ul>

<p>○ 服务器接收到 HTTP 请求后，会根据请求行和请求头的信息，找到对应的资源或执行相应的操作（如查询数据库、处理表单数据）。</p>

<ul>
  <li><strong>发送 HTTP 响应 (Sending HTTP Response)</strong>：</li>
</ul>

<p>○ 服务器处理完请求后，会构建一个 HTTP 响应报文，并将其发送回客户端。</p>

<p>○ HTTP 响应报文通常包含以下部分：</p>

<p>■ <strong>状态行 (Status Line)</strong>：</p>

<p>■ HTTP 版本 (HTTP Version)：如 HTTP/1.1。</p>

<p>■ 状态码 (Status Code)：一个三位数字，表示请求的结果。</p>

<blockquote>
  <ul>
    <li><strong>1xx（信息性状态码）</strong>：表示接收的请求正在处理。</li>
    <li><strong>2xx（成功状态码）</strong>：表示请求正常处理完毕。</li>
    <li><strong>3xx（重定向状态码）</strong>：需要后续操作才能完成这一请求。</li>
    <li><strong>4xx（客户端错误状态码）</strong>：表示请求包含语法错误或无法完成。</li>
    <li><strong>5xx（服务器错误状态码）</strong>：服务器在处理请求的过程中发生了错误。</li>
  </ul>

  <p>常见的响应状态码
200:  请求正常，服务器正常的返回数据
301：永久重定向。比如访问http://www.360buy.com的时候会重定向到www.jd.com    http://www.jingdong.com。。。。。。。www.jd.com
404：请求的url在服务器上找不到，换句话说就是请求的url错误.
  https://www.jianshu.com/fd
<strong>418：发送请求遇到服务器端反爬虫，服务器拒绝响应数据</strong>
500：服务器内部错误，可能是服务器出现了bug</p>
</blockquote>

<p>■ 状态消息 (Status Message)：状态码的文字描述。</p>

<p>■ 示例：HTTP/1.1 200 OK</p>

<p>■ 常见状态码：</p>

<p>■ 200 OK：请求成功。</p>

<p>■ 301 Moved Permanently：永久重定向。</p>

<p>■ 302 Found：临时重定向。</p>

<p>■ 400 Bad Request：客户端请求语法错误。</p>

<p>■ 403 Forbidden：服务器拒绝访问（权限问题）。</p>

<p>■ 404 Not Found：请求的资源不存在。</p>

<p>■ 500 Internal Server Error：服务器内部错误。</p>

<p>■ 503 Service Unavailable：服务器暂时无法处理请求。</p>

<p>■ <strong>响应头 (Response Headers)</strong>：</p>

<p>■ 提供关于响应、服务器或响应内容的附加信息。</p>

<p>■ <strong>Content-Type</strong>: 响应体的媒体类型（如 text/html, application/json）。</p>

<p>■ <strong>Content-Length</strong>: 响应体的长度。</p>

<p>■ <strong>Set-Cookie</strong>: 服务器设置的 Cookie 信息。</p>

<p>■ <strong>Server</strong>: 服务器软件信息。</p>

<p>■ <strong>Location</strong>: 重定向时指示新的 URL。</p>

<p>■ 示例：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>Content-Type: text/html; charset=UTF-8
Content-Length: 12345
Set-Cookie: sessionid=abcdef123; Path=/; HttpOnly
</pre></td></tr></tbody></table></code></pre></div></div>

<p>■ <strong>响应体 (Response Body)</strong>：</p>

<p>■ 可选。包含服务器返回的实际数据，如 HTML 页面、图片二进制数据、JSON 数据等。</p>

<p>○ <strong>爬虫模拟：</strong> requests 库会解析响应，可以轻松访问状态码、响应头和响应体。</p>

<ul>
  <li><strong>关闭 TCP 连接 (TCP Connection Termination)</strong>：</li>
</ul>

<p>○ 客户端和服务器完成数据传输后，会关闭 TCP 连接，通常通过“四次挥手”完成。</p>

<p>○ <strong>爬虫模拟：</strong> requests 库会自动管理连接的关闭。</p>

<h2 id="1代码学习参考-1">(1)代码学习参考</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
</pre></td><td class="rouge-code"><pre><span class="c1"># 博客地址: https://kirsten-1.github.io/
# 创建者: kirsten-1
# 时间: 2025/7/13  15:03
</span>
<span class="kn">import</span> <span class="n">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://www.baidu.com/</span><span class="sh">"</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">custom_headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">"</span><span class="s">User-Agent</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:140.0) Gecko/20100101 Firefox/140.0</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">Accept</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">Accept-Language</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">Connection</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">keep-alive</span><span class="sh">"</span>
    <span class="p">}</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">custom_headers</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">请求URL:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">url</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">响应状态码:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">响应状态消息:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">reason</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">------响应头-------</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">res</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">------响应内容（前200个字符）-------</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">text</span><span class="p">[:</span><span class="mi">200</span><span class="p">])</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">------请求信息-------</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">请求方法:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">method</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">请求URL:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">url</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">------实际发送的请求头-------</span><span class="sh">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">res</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">请求过程发生报错:</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="2习题-1">(2)习题</h2>

<p>请向 <code class="language-plaintext highlighter-rouge">https://www.httpbin.org/status/404 </code>发送一个 GET 请求，并打印其响应状态码和状态消息。</p>

<hr />

<p>参考：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://www.httpbin.org/status/404</span><span class="sh">"</span>
<span class="c1">#  GET 请求，并打印其响应状态码和状态消息。
</span><span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">响应状态码:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">响应状态消息:</span><span class="si">{</span><span class="n">res</span><span class="p">.</span><span class="n">reason</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713152115484.png" alt="image-20250713152115484" style="zoom:50%;" /></p>

<h1 id="4chrome分析网站">4、Chrome分析网站</h1>

<p>Chrome 开发者工具（Chrome Developer Tools，简称 DevTools）是前端开发和爬虫开发中不可或缺的利器。它允许您检查网页的 HTML、CSS、JavaScript，更重要的是，它可以监控网络请求，这对于爬虫开发来说至关重要。</p>

<p><strong>如何打开 Chrome 开发者工具：</strong></p>

<p>● <strong>快捷键：</strong></p>

<p>○ <code class="language-plaintext highlighter-rouge">Windows/Linux: F12</code> 或<code class="language-plaintext highlighter-rouge"> Ctrl + Shift + I</code></p>

<p>○ <code class="language-plaintext highlighter-rouge">macOS: Cmd + Option + I</code></p>

<p>● <strong>菜单：</strong> <code class="language-plaintext highlighter-rouge">Chrome 菜单 -&gt; 更多工具 -&gt; 开发者工具</code>。</p>

<p><strong>爬虫开发中主要关注的面板：</strong></p>

<ul>
  <li><strong>Elements (元素)</strong>：</li>
</ul>

<p>○ 显示网页的 HTML 结构。</p>

<p>○ 可以实时修改 HTML 和 CSS，查看效果。</p>

<p>○ <strong>爬虫用途：</strong> 用于分析网页结构，定位需要提取的数据所在的 HTML 标签，获取其 CSS 选择器或 XPath。</p>

<ul>
  <li><strong>Network (网络)</strong>：</li>
</ul>

<p>○ <strong>这是爬虫开发者最常用的面板。</strong> 它记录了浏览器加载网页过程中所有的网络请求和响应。</p>

<p>○ <strong>主要功能：</strong></p>

<p>■ <strong>请求列表：</strong> 按照时间顺序显示所有发出的请求（HTML、CSS、JS、图片、AJAX/XHR 等）。</p>

<p>■ <strong>过滤 (Filter)：</strong> 可以根据类型（XHR/Fetch, Doc, CSS, JS, Img, Media, Font 等）或关键词过滤请求。</p>

<p>■ <strong>XHR/Fetch：</strong> 专门用于过滤 AJAX 请求，这对于爬取动态加载的内容非常重要。</p>

<p>■ <strong>Doc：</strong> 过滤主文档请求（通常是 HTML 页面）。</p>

<p>■ <strong>请求详情 (Click on a request)：</strong> 点击列表中的任一请求，可以查看其详细信息：</p>

<p>■ <strong>Headers (标头)</strong>：</p>

<p>■ <strong>General (常规)</strong>：请求 URL、请求方法、状态码等。</p>

<p>■ <strong>Request Headers (请求标头)</strong>：浏览器发送给服务器的所有请求头，包括 User-Agent、Referer、Cookie 等。<strong>这是爬虫模拟浏览器行为的关键信息。</strong></p>

<p>■ <strong>Response Headers (响应标头)</strong>：服务器返回的所有响应头，包括 Content-Type、Set-Cookie 等。</p>

<p>■ <strong>Preview (预览)</strong>：显示响应内容的渲染预览（如果是 HTML、图片等）。</p>

<p>■ <strong>Response (响应)</strong>：显示原始的响应内容（如 HTML 源代码、JSON 字符串）。</p>

<p>■ <strong>Timing (计时)</strong>：显示请求的各个阶段（DNS 查询、TCP 连接、发送请求、等待响应、下载内容）所花费的时间。</p>

<p>■ <strong>禁用缓存 (Disable cache)：</strong> 勾选此选项可以防止浏览器使用缓存，每次都从服务器重新请求资源，这对于调试非常有用。</p>

<p>■ <strong>清除 (Clear)：</strong> 清除当前面板中的所有请求记录。</p>

<p>■ <strong>Preserve log (保留日志)：</strong> 在页面跳转或刷新时保留网络请求日志。</p>

<p><strong>爬虫开发中的应用：</strong></p>

<p>● <strong>识别请求类型：</strong> 区分是普通页面加载还是 AJAX 动态加载。</p>

<p>● <strong>获取请求参数：</strong> 找出 GET 请求的查询参数，或 POST 请求的表单数据/JSON 数据。</p>

<p>● <strong>模拟请求头：</strong> 复制 User-Agent、Referer、Cookie 等重要请求头，以防止被网站识别为爬虫。</p>

<p>● <strong>分析响应内容：</strong> 确定响应是 HTML、JSON 还是其他格式，以及如何解析。</p>

<p>● <strong>查找隐藏 API：</strong> 很多网站的数据是通过 AJAX 请求从后台 API 获取的，这些 API 往往更容易爬取。</p>

<h1 id="5session与cookie">5、Session与Cookie</h1>

<p><img src="https://wechat01.oss-cn-hangzhou.aliyuncs.com/img/image-20250713191854546.png" alt="image-20250713191854546" style="zoom:50%;" /></p>

<p>由于 HTTP 协议是无状态的，服务器无法记住用户的身份或之前的操作。为了在多次请求之间维护用户状态，引入了 <strong>Cookie</strong> 和 <strong>Session</strong> 机制。</p>

<h2 id="1cookie">(1)Cookie</h2>

<p>● <strong>定义：</strong> Cookie 是服务器发送到用户浏览器并保存在用户本地的一小段文本信息。</p>

<p>● <strong>工作原理：</strong></p>

<ul>
  <li>当浏览器第一次请求某个网站时，服务器在响应头中通过 <code class="language-plaintext highlighter-rouge">Set-Cookie </code>字段向浏览器发送 Cookie。</li>
  <li>浏览器接收到 Cookie 后，将其存储在本地。</li>
  <li>之后，每次浏览器向同一个网站发送请求时，都会自动在请求头中通过 Cookie 字段将该网站相关的 Cookie 发送回服务器。</li>
  <li>服务器接收到 Cookie 后，可以识别用户身份或获取之前存储的信息。</li>
</ul>

<p>● <strong>用途：</strong></p>

<p>○ <strong>会话管理：</strong> 记住用户登录状态、购物车内容等。</p>

<p>○ <strong>个性化设置：</strong> 记住用户偏好（如语言、主题）。</p>

<p>○ <strong>跟踪用户行为：</strong> 记录用户访问历史、广告点击等。</p>

<p>● <strong>类型：</strong></p>

<p>○ <strong>会话 Cookie (Session Cookie)</strong>：通常不设置过期时间，在浏览器关闭时失效。</p>

<p>○ <strong>持久化 Cookie (Persistent Cookie)</strong>：设置了过期时间，在过期前会一直保存在用户硬盘上。</p>

<h2 id="2session">(2)Session</h2>

<p>● <strong>定义：</strong> Session 是服务器端用于维护用户状态的一种机制。它将用户的一些信息存储在服务器上。</p>

<p>● <strong>工作原理：</strong></p>

<ul>
  <li>当用户第一次访问网站时，服务器会创建一个唯一的 Session ID，并将与该 Session ID 关联的用户信息存储在服务器内存或数据库中。</li>
  <li>服务器将这个 Session ID 通过 Cookie 的形式发送给浏览器。</li>
  <li>浏览器将 Session ID 存储为 Cookie，并在后续请求中将其发送回服务器。</li>
  <li>服务器通过收到的 Session ID 查找对应的 Session 数据，从而识别用户并获取其状态信息。</li>
</ul>

<p>● <strong>与 Cookie 的关系：</strong> Session 依赖于 Cookie 来传递 Session ID。如果浏览器禁用了 Cookie，Session 就无法正常工作（除非通过 URL 重写等方式传递 Session ID，但这不常见且不安全）。</p>

<p>● <strong>安全性：</strong> Session 信息存储在服务器端，相对更安全，因为敏感数据不会暴露在客户端。</p>

<p><strong>爬虫中的应用：</strong></p>

<p>● <strong>模拟登录：</strong> 登录通常涉及 Cookie 和 Session。爬虫需要能够接收服务器设置的 Cookie，并在后续请求中带上这些 Cookie，以维持登录状态。</p>

<p>● <strong>维持会话：</strong> 访问需要登录才能查看的页面，或者在多个请求之间保持某种状态（如分页浏览）。</p>

<h2 id="3学习代码参考">(3)学习代码参考</h2>

<p>requests 库提供了 Session 对象，可以非常方便地处理 Cookie 和会话。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">requests</span>
<span class="n">url_set_cookie</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://httpbin.org/cookies/set?name=Adele&amp;age=18</span><span class="sh">"</span>
<span class="n">url_get_cookie</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://httpbin.org/cookies</span><span class="sh">"</span>

<span class="c1"># 第一次请求，服务器会设置cookie
</span><span class="n">res1</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url_set_cookie</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">第一次请求状态码:</span><span class="si">{</span><span class="n">res1</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">第一次请求设置的cookie是:</span><span class="si">{</span><span class="n">res1</span><span class="p">.</span><span class="n">headers</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">'</span><span class="s">Set-Cookie</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">无</span><span class="sh">'</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># 第一次请求设置的cookie是:无
</span>
<span class="c1"># 第二次请求，不使用Session，requests默认不会带上之前的cookie
</span><span class="n">res2</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url_get_cookie</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">第二次请求状态码:</span><span class="si">{</span><span class="n">res2</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">第二次请求f发送的Cookie:</span><span class="si">{</span><span class="n">res2</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span> <span class="c1"># res2并没有带上res1设置的cookie
</span>
<span class="c1"># 创建一个session对象
</span><span class="n">s</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">session</span><span class="p">()</span>

<span class="c1"># 使用session对象发送请求
</span><span class="n">res1_s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url_set_cookie</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">session第一次请求状态码:</span><span class="si">{</span><span class="n">res1_s</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="n">res1_s_json</span> <span class="o">=</span> <span class="n">res1_s</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span>  <span class="c1"># 字典
</span><span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">res1_s_json</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>   <span class="c1"># cookies: {'age': '18', 'name': 'Adele'}
# 第二次请求，带上之前存储的cookie发送给服务器
</span><span class="n">res2_s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url_get_cookie</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">session第二次请求状态码:</span><span class="si">{</span><span class="n">res2_s</span><span class="p">.</span><span class="n">status_code</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">session第二次请求发送的cookie:</span><span class="si">{</span><span class="n">res2_s</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>运行输出：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">第一次请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">第一次请求设置的cookie是</span><span class="p">:</span><span class="n">无</span>
<span class="n">第二次请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">第二次请求f发送的Cookie</span><span class="p">:{</span><span class="sh">'</span><span class="s">cookies</span><span class="sh">'</span><span class="p">:</span> <span class="p">{}}</span>
<span class="n">session第一次请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">cookies</span><span class="p">:</span> <span class="p">{</span><span class="sh">'</span><span class="s">age</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">18</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Adele</span><span class="sh">'</span><span class="p">}</span>
<span class="n">session第二次请求状态码</span><span class="p">:</span><span class="mi">200</span>
<span class="n">session第二次请求发送的cookie</span><span class="p">:{</span><span class="sh">'</span><span class="s">cookies</span><span class="sh">'</span><span class="p">:</span> <span class="p">{</span><span class="sh">'</span><span class="s">age</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">18</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">Adele</span><span class="sh">'</span><span class="p">}}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="6json数据">6、JSON数据</h1>

<p><strong>JSON (JavaScript Object Notation)</strong>：JavaScript 对象表示法，是一种轻量级的数据交换格式。它易于人阅读和编写，也易于机器解析和生成。JSON 广泛应用于 Web 应用程序之间的数据传输，尤其是前后端数据交互和 API 接口。</p>

<p>JSON 基于 JavaScript 编程语言的一个子集，但它是一种独立于语言的数据格式。它主要由两种结构组成：</p>

<ul>
  <li><strong>对象 (Object)</strong>：</li>
</ul>

<p>○ 表示为<code class="language-plaintext highlighter-rouge"> {} </code>（大括号）。</p>

<p>○ 包含一系列 <strong>键值对 (key-value pairs)</strong>。</p>

<p>○ 键 (key) 必须是字符串（用双引号包围）。</p>

<p>○ 值 (value) 可以是字符串、数字、布尔值（true/false）、null、数组或另一个 JSON 对象。</p>

<p>○ 键值对之间用 <code class="language-plaintext highlighter-rouge">,</code> （逗号）分隔。</p>

<p>○ 键和值之间用 <code class="language-plaintext highlighter-rouge">:</code> （冒号）分隔。</p>

<p>○ 示例：</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"张三"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"age"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isStudent"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><strong>数组 (Array)</strong>：</li>
</ul>

<p>○ 表示为 <code class="language-plaintext highlighter-rouge">[]</code> （方括号）。</p>

<p>○ 包含一系列有序的值。</p>

<p>○ 值可以是字符串、数字、布尔值、null、对象或另一个数组。</p>

<p>○ 值之间用 <code class="language-plaintext highlighter-rouge">,</code> （逗号）分隔。</p>

<p>○ 示例：</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">[</span><span class="w">
  </span><span class="s2">"apple"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"banana"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"orange"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>JSON 数据类型：</strong></p>

<p>● <strong>字符串 (String)</strong>：用双引号 “” 包围的 Unicode 字符序列。</p>

<p>● <strong>数字 (Number)</strong>：整数或浮点数。</p>

<p>● <strong>布尔值 (Boolean)</strong>：true 或 false。</p>

<p>● <strong>空值 (Null)</strong>：null。</p>

<p>● <strong>对象 (Object)</strong>：键值对的无序集合。</p>

<p>● <strong>数组 (Array)</strong>：值的有序集合。</p>

<p><strong>Python 与 JSON：</strong></p>

<p>Python 内置的 json 模块提供了处理 JSON 数据的功能。</p>

<p>● <strong><code class="language-plaintext highlighter-rouge">json.loads() (load string)</code></strong>：将 JSON 格式的字符串解析成 Python 对象（通常是字典或列表）。</p>

<p>● <strong><code class="language-plaintext highlighter-rouge">json.dumps() (dump string)</code></strong>：将 Python 对象（字典或列表）编码成 JSON 格式的字符串。</p>

<p>● <strong><code class="language-plaintext highlighter-rouge">response.json() </code>(requests 库特有)</strong>：requests 库的响应对象提供了一个方便的 <code class="language-plaintext highlighter-rouge">.json() </code>方法，可以直接将 JSON 格式的响应体解析成 Python 字典或列表。</p>

<p><strong>爬虫中的应用：</strong></p>

<p>● <strong>API 爬取：</strong> 许多网站的动态数据是通过 RESTful API 返回 JSON 格式的数据。直接请求这些 API 接口是高效且稳定的爬取方式。</p>

<p>● <strong>数据存储：</strong> 有时爬取到的数据也可以以 JSON 格式存储到本地文件。</p>

<h2 id="1学习代码参考">(1)学习代码参考</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre><span class="c1"># 博客地址: https://kirsten-1.github.io/
# 创建者: kirsten-1
# 时间: 2025/7/13  17:24
</span>
<span class="kn">import</span> <span class="n">json</span>
<span class="kn">import</span> <span class="n">requests</span>
<span class="c1"># 准备一个python字典
</span><span class="n">python_dict</span><span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">李四</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">city</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">北京</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">hobbies</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span><span class="sh">"</span><span class="s">读书</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">做菜</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">旅行</span><span class="sh">"</span><span class="p">],</span>
    <span class="sh">"</span><span class="s">isStudent</span><span class="sh">"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">extra_info</span><span class="sh">"</span><span class="p">:</span> <span class="bp">None</span>
<span class="p">}</span>
<span class="c1"># dict---&gt;json
# ensure_ascii=False允许输出非ACSII的字符（比如中文）
# indent=4输出的json字符串带缩紧，更易读
</span><span class="n">json_str</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">python_dict</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">json_str</span><span class="p">))</span>

<span class="c1"># json---&gt;python对象
</span><span class="n">decoded_python_obj</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="nf">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">decoded_python_obj</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">decoded_python_obj</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="n">decoded_python_obj</span><span class="p">[</span><span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="n">decoded_python_obj</span><span class="p">[</span><span class="sh">"</span><span class="s">hobbies</span><span class="sh">"</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># 从web API获取json数据：
# https://jsonplaceholder.typicode.com/posts/1
</span><span class="n">api_url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://jsonplaceholder.typicode.com/posts/1</span><span class="sh">"</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">api_url</span><span class="p">)</span>
    <span class="n">res</span><span class="p">.</span><span class="nf">raise_for_status</span><span class="p">()</span>  <span class="c1"># 如果状态码不是200，抛出异常
</span>
    <span class="c1"># 使用response.json() 解析json
</span>    <span class="n">json_data</span> <span class="o">=</span> <span class="n">res</span><span class="p">.</span><span class="nf">json</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="nf">type</span><span class="p">(</span><span class="n">json_data</span><span class="p">))</span>  <span class="c1"># 类型dict
</span>    <span class="c1"># 格式化打印
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">json_data</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="bp">False</span><span class="p">))</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">userId:</span><span class="si">{</span><span class="n">json_data</span><span class="p">[</span><span class="sh">'</span><span class="s">userId</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">title:</span><span class="si">{</span><span class="n">json_data</span><span class="p">[</span><span class="sh">'</span><span class="s">title</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="k">except</span> <span class="n">requests</span><span class="p">.</span><span class="n">exceptions</span><span class="p">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">获取json数据时发生错误:</span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>运行输出：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="p">{</span>
    <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">李四</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">age</span><span class="sh">"</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">city</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">北京</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">hobbies</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="sh">"</span><span class="s">读书</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">做菜</span><span class="sh">"</span><span class="p">,</span>
        <span class="sh">"</span><span class="s">旅行</span><span class="sh">"</span>
    <span class="p">],</span>
    <span class="sh">"</span><span class="s">isStudent</span><span class="sh">"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">extra_info</span><span class="sh">"</span><span class="p">:</span> <span class="n">null</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="k">class</span> <span class="err">'</span><span class="nc">str</span><span class="sh">'</span><span class="s">&gt;
{</span><span class="sh">'</span><span class="n">name</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">李四</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">age</span><span class="sh">'</span><span class="s">: 18, </span><span class="sh">'</span><span class="n">city</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">北京</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">hobbies</span><span class="sh">'</span><span class="s">: [</span><span class="sh">'</span><span class="n">读书</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">做菜</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">旅行</span><span class="sh">'</span><span class="s">], </span><span class="sh">'</span><span class="n">isStudent</span><span class="sh">'</span><span class="s">: True, </span><span class="sh">'</span><span class="n">extra_info</span><span class="sh">'</span><span class="s">: None}
&lt;class </span><span class="sh">'</span><span class="nb">dict</span><span class="sh">'</span><span class="s">&gt;
李四
读书
{</span><span class="sh">'</span><span class="n">userId</span><span class="sh">'</span><span class="s">: 1, </span><span class="sh">'</span><span class="nb">id</span><span class="sh">'</span><span class="s">: 1, </span><span class="sh">'</span><span class="n">title</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">sunt</span> <span class="n">aut</span> <span class="n">facere</span> <span class="n">repellat</span> <span class="n">provident</span> <span class="n">occaecati</span> <span class="n">excepturi</span> <span class="n">optio</span> <span class="n">reprehenderit</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="n">body</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="n">quia</span> <span class="n">et</span> <span class="n">suscipit</span>\<span class="n">nsuscipit</span> <span class="n">recusandae</span> <span class="n">consequuntur</span> <span class="n">expedita</span> <span class="n">et</span> <span class="n">cum</span>\<span class="n">nreprehenderit</span> <span class="n">molestiae</span> <span class="n">ut</span> <span class="n">ut</span> <span class="n">quas</span> <span class="n">totam</span>\<span class="n">nnostrum</span> <span class="n">rerum</span> <span class="n">est</span> <span class="n">autem</span> <span class="n">sunt</span> <span class="n">rem</span> <span class="n">eveniet</span> <span class="n">architecto</span><span class="sh">'</span><span class="s">}
&lt;class </span><span class="sh">'</span><span class="nb">dict</span><span class="sh">'</span><span class="s">&gt;
{
    </span><span class="sh">"</span><span class="s">userId</span><span class="sh">"</span><span class="s">: 1,
    </span><span class="sh">"</span><span class="s">id</span><span class="sh">"</span><span class="s">: 1,
    </span><span class="sh">"</span><span class="s">title</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">sunt aut facere repellat provident occaecati excepturi optio reprehenderit</span><span class="sh">"</span><span class="s">,
    </span><span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="s">: </span><span class="sh">"</span><span class="s">quia et suscipit</span><span class="se">\n</span><span class="s">suscipit recusandae consequuntur expedita et cum</span><span class="se">\n</span><span class="s">reprehenderit molestiae ut ut quas totam</span><span class="se">\n</span><span class="s">nostrum rerum est autem sunt rem eveniet architecto</span><span class="sh">"</span><span class="s">
}
userId:1
title:sunt aut facere repellat provident occaecati excepturi optio reprehenderit
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="2习题-2">(2)习题</h2>

<p>请访问 <code class="language-plaintext highlighter-rouge">https://jsonplaceholder.typicode.com/users/1</code>，获取该用户的 JSON 数据，并打印其 name 和 email。</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="c1"># https://jsonplaceholder.typicode.com/users/1
# 获取该用户的 JSON 数据，并打印其 name 和 email
</span><span class="kn">import</span> <span class="n">requests</span>
<span class="n">url</span> <span class="o">=</span> <span class="sh">"</span><span class="s">https://jsonplaceholder.typicode.com/users/1</span><span class="sh">"</span>
<span class="n">json_data_dict</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">url</span><span class="p">).</span><span class="nf">json</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">name:</span><span class="si">{</span><span class="n">json_data_dict</span><span class="p">[</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">emaill:</span><span class="si">{</span><span class="n">json_data_dict</span><span class="p">[</span><span class="sh">'</span><span class="s">email</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>运行输出：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">name</span><span class="p">:</span><span class="n">Leanne</span> <span class="n">Graham</span>
<span class="n">emaill</span><span class="p">:</span><span class="n">Sincere</span><span class="nd">@april.biz</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="7ajax请求">7、Ajax请求</h1>

<p><strong>AJAX (Asynchronous JavaScript and XML)</strong>：异步 JavaScript 和 XML。它不是一种新的编程语言，而是一种用于创建快速动态网页的技术。AJAX 允许网页在不重新加载整个页面的情况下，与服务器进行异步通信，从而更新部分网页内容。</p>

<h2 id="1ajax-的核心思想">(1)AJAX 的核心思想</h2>

<p>● <strong>异步 (Asynchronous)</strong>：意味着 JavaScript 可以向服务器发送请求，而无需等待服务器响应，用户可以继续与页面进行交互。当服务器响应返回时，JavaScript 会处理响应并更新页面。</p>

<p>● <strong>局部更新 (Partial Page Update)</strong>：传统的网页每次数据更新都需要重新加载整个页面，用户体验差。AJAX 允许只更新页面中需要变化的部分，大大提升了用户体验和页面加载速度。</p>

<p>● <strong>数据格式：</strong> 尽管名称中包含 “XML”，但现在 AJAX 请求返回的数据更多地使用 <strong>JSON</strong> 格式，因为它更轻量、更易于解析。</p>

<h2 id="2ajax-请求的工作流程">(2)AJAX 请求的工作流程：</h2>

<ul>
  <li>
    <p>用户在网页上触发某个事件（如点击按钮、滚动页面）。</p>
  </li>
  <li>
    <p>JavaScript 代码（通常是 XMLHttpRequest 对象或 Fetch API）在后台向服务器发送一个 HTTP 请求。</p>
  </li>
  <li>
    <p>服务器处理请求并返回数据（通常是 JSON 或 XML）。</p>
  </li>
  <li>
    <p>JavaScript 接收到数据后，解析数据，并动态地更新网页的相应部分，而无需刷新整个页面。</p>
  </li>
</ul>

<h2 id="3为什么-ajax-对爬虫很重要">(3)为什么 AJAX 对爬虫很重要？</h2>

<p>● <strong>动态内容：</strong> 许多现代网站的内容（如新闻列表、商品评论、无限滚动加载的商品）并非在初始 HTML 页面中完全呈现。它们是在用户与页面交互时，通过 AJAX 请求从服务器动态加载的。</p>

<p>● <strong>传统爬虫的局限：</strong> 如果只抓取初始 HTML 页面，您将无法获取到这些动态加载的内容。</p>

<p>● <strong>爬虫应对策略：</strong></p>

<ul>
  <li>
    <p><strong>模拟 AJAX 请求：</strong> 这是最常见和高效的方法。通过 Chrome 开发者工具分析 AJAX 请求的 URL、请求方法、请求头和请求体，然后使用 requests 库直接模拟这些 AJAX 请求来获取数据。</p>
  </li>
  <li>
    <p><strong>使用无头浏览器：</strong> 对于复杂的 JavaScript 渲染（例如需要执行大量 JavaScript 代码才能生成内容的网站），可以使用 Selenium 或 Playwright 等无头浏览器来模拟真实的浏览器环境，等待页面完全加载后再提取数据。这种方法资源消耗较大，速度较慢，通常作为模拟 AJAX 请求的备选方案。</p>
  </li>
</ul>

<h2 id="4如何在-chrome-开发者工具中识别-ajax-请求">(4)如何在 Chrome 开发者工具中识别 AJAX 请求：</h2>

<p>● 打开开发者工具 (F12)，切换到 <strong>Network (网络)</strong> 面板。</p>

<p>● 在过滤栏中选择 <strong>XHR</strong> 或 <strong>Fetch</strong>。</p>

<p>● 在页面上进行操作（如滚动、点击加载更多、切换标签页），观察这些过滤后的请求。</p>

<p>● 点击这些请求，检查其 Headers 和 Response，特别是 Response 中的数据格式（通常是 JSON）。</p>



                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2025/07/12/python%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%8001%E5%88%9D%E5%A7%8B%E7%88%AC%E8%99%AB/" data-toggle="tooltip" data-placement="top" title="python爬虫基础01-初识爬虫">
                        Previous<br>
                        <span>python爬虫基础01-初识爬虫</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2025/07/14/numpy%E5%88%9D%E7%BA%A71/" data-toggle="tooltip" data-placement="top" title="numpy初级1-基本操作">
                        Next<br>
                        <span>numpy初级1-基本操作</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                

                
            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        
        
        
                <a data-sort="0128" 
                    href="/archive/?tag=%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB"
                    title="书籍阅读"
                    rel="3">书籍阅读</a>
        
                <a data-sort="0107" 
                    href="/archive/?tag=%E7%AE%97%E6%B3%95"
                    title="算法"
                    rel="24">算法</a>
        
                <a data-sort="0113" 
                    href="/archive/?tag=%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BDAI%E5%9F%BA%E7%A1%80"
                    title="人工智能AI基础"
                    rel="18">人工智能AI基础</a>
        
                <a data-sort="0114" 
                    href="/archive/?tag=python%E5%9F%BA%E7%A1%80"
                    title="python基础"
                    rel="17">python基础</a>
        
                <a data-sort="0118" 
                    href="/archive/?tag=numpy"
                    title="numpy"
                    rel="13">numpy</a>
        
                <a data-sort="0118" 
                    href="/archive/?tag=pandas"
                    title="pandas"
                    rel="13">pandas</a>
        
                <a data-sort="0119" 
                    href="/archive/?tag=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%90%B4%E6%81%A9%E8%BE%BE"
                    title="机器学习-吴恩达"
                    rel="12">机器学习-吴恩达</a>
        
                <a data-sort="0121" 
                    href="/archive/?tag=%E5%8A%9B%E6%89%A3"
                    title="力扣"
                    rel="10">力扣</a>
        
                <a data-sort="0128" 
                    href="/archive/?tag=spring6"
                    title="spring6"
                    rel="3">spring6</a>
        
                <a data-sort="0129" 
                    href="/archive/?tag=Java%E5%9F%BA%E7%A1%80"
                    title="Java基础"
                    rel="2">Java基础</a>
        
                <a data-sort="0129" 
                    href="/archive/?tag=ollama%E5%B7%A5%E5%85%B7"
                    title="ollama工具"
                    rel="2">ollama工具</a>
        
                <a data-sort="0129" 
                    href="/archive/?tag=python%E7%88%AC%E8%99%AB"
                    title="python爬虫"
                    rel="2">python爬虫</a>
    </div>
</section>


                <!-- Friends Blog -->
                
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="https://m.freebuf.com/">freebuf</a></li>
  
  <li><a href="https://xz.aliyun.com/">先知</a></li>
  
  <li><a href="https://www.sec-in.com/All">sec-in</a></li>
  
  <li><a href="https://paper.seebug.org/">see-bug</a></li>
  
  <li><a href="https://twitter.com/Concurr21486093">我的推特</a></li>
  
  <li><a href="https://pdai.tech/">pdai</a></li>
  
  <li><a href="https://nodejs.org/dist/">nodejs index of dist</a></li>
  
  <li><a href="#">公众号：小东方不败</a></li>
  
</ul>

            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  <li>
    <a href="https://twitter.com/Concurr21486093">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.zhihu.com/people/Hilda">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa  fa-stack-1x fa-inverse">知</i>
      </span>
    </a>
  </li>
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/kirsten-1">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Hilda 2025
                    <br>
                    Powered by <a href="https://kirsten-1.github.io/">hilda Blog</a>
<!--                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"-->
<!--                        height="20px"-->
<!--                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true">-->
<!--                    </iframe>-->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>


<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
