<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="这里是 Hilda 的个人博客，与你一起发现更大的世界 | 要做一个有 swag 的程序员">
    <meta name="keywords" content="Hilda">
    <meta name="theme-color" content="#000000">

    <!-- Open Graph -->
    <meta property="og:title"
        content="算法笔试中处理输入与输出 - Hilda的博客 | Your genius girlfriend's blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="

">
    
    <meta property="article:published_time" content=" 2025-03-15T00:00:00Z">
    
    
    <meta property="article:author" content="Hilda">
    
    
    <meta property="article:tag" content="算法">
    
    
    <meta property="og:image" content="https://kirsten-1.github.io">
    <meta property="og:url" content="https://kirsten-1.github.io/2025/03/15/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AF%95%E4%B8%AD%E5%A4%84%E7%90%86%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA/">
    <meta property="og:site_name" content="Hilda的博客 | Your genius girlfriend's blog">

    <title>算法笔试中处理输入与输出 - Hilda的博客 | Your genius girlfriend's blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://kirsten-1.github.io/2025/03/15/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AF%95%E4%B8%AD%E5%A4%84%E7%90%86%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href=" /css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/hux-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"
        type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>

    <!-- Google AdSense -->
    <script data-ad-client="ca-pub-6487568398225121" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Hilda</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Archive</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <li class="search-icon">
                            <a href="javascript:void(0)">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>
    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>

    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-2015.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-2015.jpg');
        background: ;
    }

    
</style>




<header class="intro-header" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=%E7%AE%97%E6%B3%95" title="算法">算法</a>
                        
                    </div>
                    <h1>算法笔试中处理输入与输出</h1>
                    
                    <h2 class="subheading">有填函数（框架处理I/O）和ACM风格（需自行处理I/O）两种。ACM推荐使用BufferedReader/PrintWriter等高效I/O类，避免Scanner/System.out。不推荐临时动态空间，优先使用全局静态空间预分配内存。Kattio和FastReader/Writer可处理特殊情况，但StreamTokenizer效率更高。</h2>
                    <span class="meta">Posted by Hilda on March 15, 2025</span>
                </div>
            </div>
        </div>
    </div>
</header>







<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG">
</script>

<p>1）填函数风格</p>

<p>2）acm风格（笔试、比赛最常见）</p>

<p>​    a. 规定数据量(BufferedReader、StreamTokenizer、PrintWriter)，其他语言有对等的写法</p>

<p>​    b. 按行读(BufferedReader、PrintWriter)，其他语言有对等的写法</p>

<p>​    c. 不要用Scanner、System.out，IO效率慢</p>

<p>3）不推荐：临时动态空间</p>

<p>4）推荐：全局静态空间</p>

<hr />

<p>算法笔试中，处理输入和输出有两种主要风格：填函数风格和ACM风格。填函数风格适合在线评测平台，ACM风格常见于比赛，需高效处理I/O。</p>

<h1 id="1-填函数风格">1 填函数风格</h1>

<p>填函数风格是指题目提供函数签名，你只需实现逻辑，输入输出由框架处理。适合LeetCode等平台，例如：</p>

<ul>
  <li>输入数组nums，返回最大值：</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Solution</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">findMax</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="n">nums</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">num</span> <span class="o">:</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">num</span> <span class="o">&gt;</span> <span class="n">max</span><span class="o">)</span> <span class="n">max</span> <span class="o">=</span> <span class="n">num</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">max</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>可以更改nums参数。</p>

<h1 id="2-acm风格">2 ACM风格</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">class019</span><span class="o">;</span>

<span class="c1">// 展示acm风格的测试方式</span>
<span class="c1">// 子矩阵的最大累加和问题，不要求会解题思路，后面的课会讲</span>
<span class="c1">// 每一组测试都给定数据规模</span>
<span class="c1">// 需要任何空间都动态生成，在大厂笔试或者比赛中，这种方式并不推荐</span>
<span class="c1">// 测试链接 : https://www.nowcoder.com/practice/cb82a97dcd0d48a7b1f4ee917e2c0409?</span>
<span class="c1">// 请同学们务必参考如下代码中关于输入、输出的处理</span>
<span class="c1">// 这是输入输出处理效率很高的写法</span>
<span class="c1">// 提交以下的code，提交时请把类名改成"Main"，可以直接通过</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.StreamTokenizer</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Code02_SpecifyAmount</span><span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="c1">// 把文件里的内容，load进来，保存在内存里，很高效，很经济，托管的很好</span>
		<span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
		<span class="c1">// 一个一个读数字</span>
		<span class="nc">StreamTokenizer</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StreamTokenizer</span><span class="o">(</span><span class="n">br</span><span class="o">);</span>
		<span class="c1">// 提交答案的时候用的，也是一个内存托管区</span>
		<span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">));</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">()</span> <span class="o">!=</span> <span class="nc">StreamTokenizer</span><span class="o">.</span><span class="na">TT_EOF</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// 文件没有结束就继续</span>
			<span class="c1">// n，二维数组的行</span>
			<span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
			<span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
			<span class="c1">// m，二维数组的列</span>
			<span class="kt">int</span> <span class="n">m</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
			<span class="c1">// 装数字的矩阵，临时动态生成</span>
			<span class="kt">int</span><span class="o">[][]</span> <span class="n">mat</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">][</span><span class="n">m</span><span class="o">];</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
					<span class="n">mat</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
				<span class="o">}</span>
			<span class="o">}</span>
			<span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">maxSumSubmatrix</span><span class="o">(</span><span class="n">mat</span><span class="o">,</span> <span class="n">n</span><span class="o">,</span> <span class="n">m</span><span class="o">));</span>
		<span class="o">}</span>
		<span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
		<span class="n">br</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="c1">// 求子矩阵的最大累加和，后面的课会讲</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">maxSumSubmatrix</span><span class="o">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">mat</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="kt">int</span> <span class="n">m</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="c1">// 需要的辅助数组，临时动态生成</span>
			<span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">m</span><span class="o">];</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">k</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">arr</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="o">+=</span> <span class="n">mat</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="n">max</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">max</span><span class="o">,</span> <span class="n">maxSumSubarray</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="n">m</span><span class="o">));</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">max</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="c1">// 求子数组的最大累加和，后面的课会讲</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">maxSumSubarray</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span><span class="o">,</span> <span class="kt">int</span> <span class="n">m</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">cur</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">cur</span> <span class="o">+=</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
			<span class="n">max</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">max</span><span class="o">,</span> <span class="n">cur</span><span class="o">);</span>
			<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">cur</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">max</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="3-静态空间">3 静态空间</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">class019</span><span class="o">;</span>

<span class="c1">// 展示acm风格的测试方式</span>
<span class="c1">// 子矩阵的最大累加和问题，不要求会解题思路，后面的课会讲</span>
<span class="c1">// 每一组测试都给定数据规模</span>
<span class="c1">// 任何空间都提前生成好，一律都是静态空间，然后自己去复用，推荐这种方式</span>
<span class="c1">// 测试链接 : https://www.nowcoder.com/practice/cb82a97dcd0d48a7b1f4ee917e2c0409?</span>
<span class="c1">// 请同学们务必参考如下代码中关于输入、输出的处理</span>
<span class="c1">// 这是输入输出处理效率很高的写法</span>
<span class="c1">// 提交以下的code，提交时请把类名改成"Main"，可以直接通过</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.StreamTokenizer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Code03_StaticSpace</span> <span class="o">{</span>

	<span class="c1">// 题目给定的行的最大数据量</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">MAXN</span> <span class="o">=</span> <span class="mi">201</span><span class="o">;</span>

	<span class="c1">// 题目给定的列的最大数据量</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">MAXM</span> <span class="o">=</span> <span class="mi">201</span><span class="o">;</span>

	<span class="c1">// 申请这么大的矩阵空间，一定够用了</span>
	<span class="c1">// 静态的空间，不停复用</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[][]</span> <span class="n">mat</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">MAXN</span><span class="o">][</span><span class="no">MAXM</span><span class="o">];</span>

	<span class="c1">// 需要的所有辅助空间也提前生成</span>
	<span class="c1">// 静态的空间，不停复用</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="no">MAXM</span><span class="o">];</span>

	<span class="c1">// 当前测试数据行的数量是n</span>
	<span class="c1">// 当前测试数据列的数量是m</span>
	<span class="c1">// 这两个变量可以把代码运行的边界规定下来</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">n</span><span class="o">,</span> <span class="n">m</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
		<span class="nc">StreamTokenizer</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StreamTokenizer</span><span class="o">(</span><span class="n">br</span><span class="o">);</span>
		<span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">));</span>
		<span class="k">while</span> <span class="o">(</span><span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">()</span> <span class="o">!=</span> <span class="nc">StreamTokenizer</span><span class="o">.</span><span class="na">TT_EOF</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">n</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
			<span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
			<span class="n">m</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
					<span class="n">mat</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
				<span class="o">}</span>
			<span class="o">}</span>
			<span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">maxSumSubmatrix</span><span class="o">());</span>
		<span class="o">}</span>
		<span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
		<span class="n">br</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="c1">// 求子矩阵的最大累加和，后面的课会讲</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">maxSumSubmatrix</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="c1">// 因为之前的过程可能用过辅助数组</span>
			<span class="c1">// 为了让之前结果不干扰到这次运行，需要自己清空辅助数组需要用到的部分</span>
			<span class="nc">Arrays</span><span class="o">.</span><span class="na">fill</span><span class="o">(</span><span class="n">arr</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">m</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
				<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">k</span><span class="o">++)</span> <span class="o">{</span>
					<span class="n">arr</span><span class="o">[</span><span class="n">k</span><span class="o">]</span> <span class="o">+=</span> <span class="n">mat</span><span class="o">[</span><span class="n">j</span><span class="o">][</span><span class="n">k</span><span class="o">];</span>
				<span class="o">}</span>
				<span class="n">max</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">max</span><span class="o">,</span> <span class="n">maxSumSubarray</span><span class="o">());</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">max</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="c1">// 求子数组的最大累加和，后面的课会讲</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">maxSumSubarray</span><span class="o">()</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">max</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
		<span class="kt">int</span> <span class="n">cur</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">m</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="n">cur</span> <span class="o">+=</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
			<span class="n">max</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">max</span><span class="o">,</span> <span class="n">cur</span><span class="o">);</span>
			<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">cur</span><span class="o">;</span>
		<span class="o">}</span>
		<span class="k">return</span> <span class="n">max</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="4-需要自己切分数据">4 需要自己切分数据</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">class019</span><span class="o">;</span>

<span class="c1">// 展示acm风格的测试方式</span>
<span class="c1">// 测试链接 : https://www.nowcoder.com/exam/test/70070648/detail?pid=27976983</span>
<span class="c1">// 其中，7.A+B(7)，就是一个没有给定数据规模，只能按行读数据的例子</span>
<span class="c1">// 此时需要自己切分出数据来计算</span>
<span class="c1">// 请同学们务必参考如下代码中关于输入、输出的处理</span>
<span class="c1">// 这是输入输出处理效率很高的写法</span>
<span class="c1">// 提交以下的code，提交时请把类名改成"Main"，可以直接通过</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStreamWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Code04_ReadByLine</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="n">line</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span><span class="o">[]</span> <span class="n">parts</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">sum</span><span class="o">;</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="nc">BufferedReader</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
		<span class="nc">PrintWriter</span> <span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">PrintWriter</span><span class="o">(</span><span class="k">new</span> <span class="nc">OutputStreamWriter</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">));</span>
		<span class="k">while</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">parts</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">" "</span><span class="o">);</span>
			<span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">num</span> <span class="o">:</span> <span class="n">parts</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">sum</span> <span class="o">+=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
			<span class="o">}</span>
			<span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum</span><span class="o">);</span>
		<span class="o">}</span>
		<span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
		<span class="n">in</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
		<span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
	<span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="5-kattio-当streamtokenizer无法正确读入">5 Kattio-当StreamTokenizer无法正确读入</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">class019</span><span class="o">;</span>

<span class="c1">// 本文件课上没有讲，介绍一下Kattio类的使用</span>
<span class="c1">// 某些题目的输入，使用StreamTokenizer就是无法正确读入</span>
<span class="c1">// 那么可以使用本文件提供的Kattio类</span>
<span class="c1">// 比如，就是需要依次读取一个一个的字符串进行处理</span>
<span class="c1">// 再比如，StreamTokenizer读取：不溢出、但是很大的long类型数字时，可能会读入错误</span>
<span class="c1">// 再比如，StreamTokenizer读取：科学计数法表达的double类型数字时，可能会读入错误</span>
<span class="c1">// 如果使用Kattio进行读取，就没有这些问题</span>
<span class="c1">// 可以直接运行本文件的main函数，根据提示输入给定的数字，能清晰的看到这一点</span>
<span class="c1">// 那么可不可以放弃StreamTokenizer，以后都用Kattio呢？</span>
<span class="c1">// 不行！因为StreamTokenizer的效率还是比Kattio好！</span>
<span class="c1">// 只有在StreamTokenizer无法正确读取的情况下，才考虑使用Kattio类</span>
<span class="c1">// 其他语言中一定有对等的概念，不是java的同学，请自行搞定</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.StreamTokenizer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.StringTokenizer</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Code05_Kattio</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="nc">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">));</span>
		<span class="nc">StreamTokenizer</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StreamTokenizer</span><span class="o">(</span><span class="n">br</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入 : 131237128371723187"</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"并按回车"</span><span class="o">);</span>
		<span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
		<span class="kt">long</span> <span class="n">long1</span> <span class="o">=</span> <span class="o">(</span><span class="kt">long</span><span class="o">)</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"StreamTokenizer读取到的数字 : "</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">long1</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入 : 5.6920E+0001"</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"并按回车"</span><span class="o">);</span>
		<span class="n">in</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
		<span class="kt">double</span> <span class="n">double1</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nval</span><span class="o">;</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"StreamTokenizer读取到的数字 : "</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">double1</span><span class="o">);</span>

		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"============================"</span><span class="o">);</span>

		<span class="nc">Kattio</span> <span class="n">io</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Kattio</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入 : 131237128371723187"</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"并按回车"</span><span class="o">);</span>
		<span class="kt">long</span> <span class="n">long2</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="na">nextLong</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Kattio读取到的数字 : "</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">long2</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"请输入 : 5.6920E+0001"</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"并按回车"</span><span class="o">);</span>
		<span class="kt">double</span> <span class="n">double2</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Kattio读取到的数字 : "</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">double2</span><span class="o">);</span>
		<span class="n">io</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="c1">// 如何使用Kattio的简单示例</span>
	<span class="c1">// 可以找个一些具体题目试一试</span>
	<span class="c1">// 这里就是罗列了一下</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">show</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">Kattio</span> <span class="n">io</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Kattio</span><span class="o">();</span> <span class="c1">// 自动接入输入输出流</span>
		<span class="n">io</span><span class="o">.</span><span class="na">next</span><span class="o">();</span> <span class="c1">// 读取下一个字符串，注意不是整行，是以空格或回车分割的字符串，一个一个读取</span>
		<span class="n">io</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span> <span class="c1">// 读取下一个int</span>
		<span class="n">io</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span> <span class="c1">// 读取下一个double</span>
		<span class="n">io</span><span class="o">.</span><span class="na">nextLong</span><span class="o">();</span> <span class="c1">// 读取下一个long</span>
		<span class="n">io</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ans"</span><span class="o">);</span> <span class="c1">// 答案进入输出流</span>
		<span class="n">io</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span> <span class="c1">// 答案刷给后台</span>
		<span class="n">io</span><span class="o">.</span><span class="na">close</span><span class="o">();</span> <span class="c1">// 关闭io</span>
	<span class="o">}</span>

	<span class="c1">// Kattio类IO效率很好，但还是不如StreamTokenizer</span>
	<span class="c1">// 只有StreamTokenizer无法正确处理时，才考虑使用这个类</span>
	<span class="c1">// 参考链接 : https://oi-wiki.org/lang/java-pro/</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Kattio</span> <span class="kd">extends</span> <span class="nc">PrintWriter</span> <span class="o">{</span>
		<span class="kd">private</span> <span class="nc">BufferedReader</span> <span class="n">r</span><span class="o">;</span>
		<span class="kd">private</span> <span class="nc">StringTokenizer</span> <span class="n">st</span><span class="o">;</span>

		<span class="kd">public</span> <span class="nf">Kattio</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">,</span> <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">);</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nf">Kattio</span><span class="o">(</span><span class="nc">InputStream</span> <span class="n">i</span><span class="o">,</span> <span class="nc">OutputStream</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
			<span class="kd">super</span><span class="o">(</span><span class="n">o</span><span class="o">);</span>
			<span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">InputStreamReader</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nf">Kattio</span><span class="o">(</span><span class="nc">String</span> <span class="n">intput</span><span class="o">,</span> <span class="nc">String</span> <span class="n">output</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
			<span class="kd">super</span><span class="o">(</span><span class="n">output</span><span class="o">);</span>
			<span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nc">FileReader</span><span class="o">(</span><span class="n">intput</span><span class="o">));</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">String</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">try</span> <span class="o">{</span>
				<span class="k">while</span> <span class="o">(</span><span class="n">st</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">st</span><span class="o">.</span><span class="na">hasMoreTokens</span><span class="o">())</span>
					<span class="n">st</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StringTokenizer</span><span class="o">(</span><span class="n">r</span><span class="o">.</span><span class="na">readLine</span><span class="o">());</span>
				<span class="k">return</span> <span class="n">st</span><span class="o">.</span><span class="na">nextToken</span><span class="o">();</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">int</span> <span class="nf">nextInt</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">return</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">next</span><span class="o">());</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">double</span> <span class="nf">nextDouble</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">return</span> <span class="nc">Double</span><span class="o">.</span><span class="na">parseDouble</span><span class="o">(</span><span class="n">next</span><span class="o">());</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">long</span> <span class="nf">nextLong</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">return</span> <span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">next</span><span class="o">());</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="6-fastreaderfastwriter">6 FastReader/FastWriter</h1>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
</pre></td><td class="rouge-code"><pre><span class="kn">package</span> <span class="nn">class019</span><span class="o">;</span>

<span class="c1">// 本文件课上没有讲</span>
<span class="c1">// java同学可以使用FastReader进行快读，可以使用FastWriter进行快写，速度是很快的</span>
<span class="c1">// 如何使用可以参考main函数</span>

<span class="kn">import</span> <span class="nn">java.io.BufferedWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.ByteArrayOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileNotFoundException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileOutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.OutputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.Writer</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.InputMismatchException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Code06_FastReaderWriter</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">FastReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FastReader</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
		<span class="nc">FastWriter</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FastWriter</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">);</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"输入一个字符："</span><span class="o">);</span>
		<span class="kt">int</span> <span class="n">cha</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readByte</span><span class="o">();</span> <span class="c1">// reader会读到字符的ASCII码</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"输入一个int类型的数字："</span><span class="o">);</span>
		<span class="kt">int</span> <span class="n">num1</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readInt</span><span class="o">();</span> <span class="c1">// reader会读到该数字</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"输入一个long类型的数字："</span><span class="o">);</span>
		<span class="kt">long</span> <span class="n">num2</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLong</span><span class="o">();</span> <span class="c1">// reader会读到该数字</span>
		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"打印结果:"</span><span class="o">);</span>
		<span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">cha</span><span class="o">);</span>
		<span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">num1</span><span class="o">);</span>
		<span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">num2</span><span class="o">);</span>
		<span class="n">writer</span><span class="o">.</span><span class="na">close</span><span class="o">();</span><span class="c1">// close方法包含flush，会把结果刷出去</span>
	<span class="o">}</span>

	<span class="c1">// 快读</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">FastReader</span> <span class="o">{</span>
		<span class="nc">InputStream</span> <span class="n">is</span><span class="o">;</span>
		<span class="kd">private</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">inbuf</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="mi">1024</span><span class="o">];</span>
		<span class="kd">public</span> <span class="kt">int</span> <span class="n">lenbuf</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
		<span class="kd">public</span> <span class="kt">int</span> <span class="n">ptrbuf</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

		<span class="kd">public</span> <span class="nf">FastReader</span><span class="o">(</span><span class="kd">final</span> <span class="nc">InputStream</span> <span class="n">is</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">is</span> <span class="o">=</span> <span class="n">is</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">int</span> <span class="nf">readByte</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">lenbuf</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">throw</span> <span class="k">new</span> <span class="nf">InputMismatchException</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">ptrbuf</span> <span class="o">&gt;=</span> <span class="n">lenbuf</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">ptrbuf</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
				<span class="k">try</span> <span class="o">{</span>
					<span class="n">lenbuf</span> <span class="o">=</span> <span class="n">is</span><span class="o">.</span><span class="na">read</span><span class="o">(</span><span class="n">inbuf</span><span class="o">);</span>
				<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
					<span class="k">throw</span> <span class="k">new</span> <span class="nf">InputMismatchException</span><span class="o">();</span>
				<span class="o">}</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">lenbuf</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
					<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
				<span class="o">}</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="n">inbuf</span><span class="o">[</span><span class="n">ptrbuf</span><span class="o">++];</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">int</span> <span class="nf">readInt</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">return</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">readLong</span><span class="o">();</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">long</span> <span class="nf">readLong</span><span class="o">()</span> <span class="o">{</span>
			<span class="kt">long</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="kt">int</span> <span class="n">b</span><span class="o">;</span>
			<span class="kt">boolean</span> <span class="n">minus</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
			<span class="k">while</span> <span class="o">((</span><span class="n">b</span> <span class="o">=</span> <span class="n">readByte</span><span class="o">())</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="o">!((</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="sc">'0'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="sc">'9'</span><span class="o">)</span> <span class="o">||</span> <span class="n">b</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">))</span>
				<span class="o">;</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">b</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">minus</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
				<span class="n">b</span> <span class="o">=</span> <span class="n">readByte</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="sc">'0'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="sc">'9'</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">+</span> <span class="o">(</span><span class="n">b</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">);</span>
				<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
					<span class="k">return</span> <span class="n">minus</span> <span class="o">?</span> <span class="o">-</span><span class="n">num</span> <span class="o">:</span> <span class="n">num</span><span class="o">;</span>
				<span class="o">}</span>
				<span class="n">b</span> <span class="o">=</span> <span class="n">readByte</span><span class="o">();</span>
			<span class="o">}</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="c1">// 快写</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">FastWriter</span> <span class="o">{</span>
		<span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">BUF_SIZE</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">13</span><span class="o">;</span>
		<span class="kd">private</span> <span class="kd">final</span> <span class="kt">byte</span><span class="o">[]</span> <span class="n">buf</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">byte</span><span class="o">[</span><span class="no">BUF_SIZE</span><span class="o">];</span>
		<span class="kd">private</span> <span class="nc">OutputStream</span> <span class="n">out</span><span class="o">;</span>
		<span class="kd">private</span> <span class="nc">Writer</span> <span class="n">writer</span><span class="o">;</span>
		<span class="kd">private</span> <span class="kt">int</span> <span class="n">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

		<span class="kd">public</span> <span class="nf">FastWriter</span><span class="o">(</span><span class="nc">Writer</span> <span class="n">writer</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BufferedWriter</span><span class="o">(</span><span class="n">writer</span><span class="o">);</span>
			<span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayOutputStream</span><span class="o">();</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nf">FastWriter</span><span class="o">(</span><span class="nc">OutputStream</span> <span class="n">os</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">out</span> <span class="o">=</span> <span class="n">os</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nf">FastWriter</span><span class="o">(</span><span class="nc">String</span> <span class="n">path</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">try</span> <span class="o">{</span>
				<span class="k">this</span><span class="o">.</span><span class="na">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">FileOutputStream</span><span class="o">(</span><span class="n">path</span><span class="o">);</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">FileNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"FastWriter"</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">FastWriter</span> <span class="nf">write</span><span class="o">(</span><span class="kt">byte</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">buf</span><span class="o">[</span><span class="n">ptr</span><span class="o">++]</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="no">BUF_SIZE</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">innerflush</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">FastWriter</span> <span class="nf">write</span><span class="o">(</span><span class="nc">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">s</span><span class="o">.</span><span class="na">chars</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">c</span> <span class="o">-&gt;</span> <span class="o">{</span>
				<span class="n">buf</span><span class="o">[</span><span class="n">ptr</span><span class="o">++]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="n">c</span><span class="o">;</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">==</span> <span class="no">BUF_SIZE</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">innerflush</span><span class="o">();</span>
				<span class="o">}</span>
			<span class="o">});</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">countDigits</span><span class="o">(</span><span class="kt">long</span> <span class="n">l</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">1000000000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">19</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">100000000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">18</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">10000000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">17</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">1000000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">16</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">100000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">15</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">10000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">14</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">1000000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">13</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">100000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">12</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">10000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">11</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">1000000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">10</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">100000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">9</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">10000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">8</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">1000000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">7</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">100000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">6</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">10000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">5</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">1000L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">4</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">100L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">3</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">l</span> <span class="o">&gt;=</span> <span class="mi">10L</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="mi">2</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">FastWriter</span> <span class="nf">write</span><span class="o">(</span><span class="kt">long</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="nc">Long</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">return</span> <span class="nf">write</span><span class="o">(</span><span class="s">""</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">ptr</span> <span class="o">+</span> <span class="mi">21</span> <span class="o">&gt;=</span> <span class="no">BUF_SIZE</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">innerflush</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">write</span><span class="o">((</span><span class="kt">byte</span><span class="o">)</span> <span class="sc">'-'</span><span class="o">);</span>
				<span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="n">x</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="kt">int</span> <span class="n">d</span> <span class="o">=</span> <span class="n">countDigits</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
			<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">ptr</span> <span class="o">+</span> <span class="n">d</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="n">ptr</span><span class="o">;</span> <span class="n">i</span><span class="o">--)</span> <span class="o">{</span>
				<span class="n">buf</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="o">(</span><span class="kt">byte</span><span class="o">)</span> <span class="o">(</span><span class="sc">'0'</span> <span class="o">+</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">10</span><span class="o">);</span>
				<span class="n">x</span> <span class="o">/=</span> <span class="mi">10</span><span class="o">;</span>
			<span class="o">}</span>
			<span class="n">ptr</span> <span class="o">+=</span> <span class="n">d</span><span class="o">;</span>
			<span class="k">return</span> <span class="k">this</span><span class="o">;</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">FastWriter</span> <span class="nf">writeln</span><span class="o">(</span><span class="kt">long</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">return</span> <span class="nf">write</span><span class="o">(</span><span class="n">x</span><span class="o">).</span><span class="na">writeln</span><span class="o">();</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">FastWriter</span> <span class="nf">writeln</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">return</span> <span class="nf">write</span><span class="o">((</span><span class="kt">byte</span><span class="o">)</span> <span class="sc">'\n'</span><span class="o">);</span>
		<span class="o">}</span>

		<span class="kd">private</span> <span class="kt">void</span> <span class="nf">innerflush</span><span class="o">()</span> <span class="o">{</span>
			<span class="k">try</span> <span class="o">{</span>
				<span class="n">out</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">buf</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ptr</span><span class="o">);</span>
				<span class="n">ptr</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"innerflush"</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">flush</span><span class="o">()</span> <span class="o">{</span>
			<span class="n">innerflush</span><span class="o">();</span>
			<span class="k">try</span> <span class="o">{</span>
				<span class="k">if</span> <span class="o">(</span><span class="n">writer</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">writer</span><span class="o">.</span><span class="na">write</span><span class="o">(((</span><span class="nc">ByteArrayOutputStream</span><span class="o">)</span> <span class="n">out</span><span class="o">).</span><span class="na">toString</span><span class="o">());</span>
					<span class="n">out</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ByteArrayOutputStream</span><span class="o">();</span>
					<span class="n">writer</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
				<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
					<span class="n">out</span><span class="o">.</span><span class="na">flush</span><span class="o">();</span>
				<span class="o">}</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"flush"</span><span class="o">);</span>
			<span class="o">}</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="nc">FastWriter</span> <span class="nf">println</span><span class="o">(</span><span class="kt">long</span> <span class="n">x</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">return</span> <span class="nf">writeln</span><span class="o">(</span><span class="n">x</span><span class="o">);</span>
		<span class="o">}</span>

		<span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="o">{</span>
			<span class="n">flush</span><span class="o">();</span>
			<span class="k">try</span> <span class="o">{</span>
				<span class="n">out</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
			<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="o">}</span>
		<span class="o">}</span>

	<span class="o">}</span>

<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>



                <hr style="visibility: hidden;">
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2025/03/14/%E7%AE%97%E6%B3%95041/" data-toggle="tooltip" data-placement="top" title="041 最大公约数 最小公倍数 同余原理">
                        Previous<br>
                        <span>041 最大公约数 最小公倍数 同余原理</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2025/03/15/%E9%80%92%E5%BD%92%E5%92%8Cmaster%E5%85%AC%E5%BC%8F/" data-toggle="tooltip" data-placement="top" title="020 递归和master公式">
                        Next<br>
                        <span>020 递归和master公式</span>
                        </a>
                    </li>
                    
                </ul>
                <hr style="visibility: hidden;">

                

                
            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                


<section>
    
        <hr class="hidden-sm hidden-xs">
    
    <h5><a href="/archive/">FEATURED TAGS</a></h5>
    <div class="tags">
        
        
        
        
        
        
                <a data-sort="0058" 
                    href="/archive/?tag=%E4%B9%A6%E7%B1%8D%E9%98%85%E8%AF%BB"
                    title="书籍阅读"
                    rel="3">书籍阅读</a>
        
                <a data-sort="0043" 
                    href="/archive/?tag=%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BDAI%E5%9F%BA%E7%A1%80"
                    title="人工智能AI基础"
                    rel="18">人工智能AI基础</a>
        
                <a data-sort="0049" 
                    href="/archive/?tag=%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0-%E5%90%B4%E6%81%A9%E8%BE%BE"
                    title="机器学习-吴恩达"
                    rel="12">机器学习-吴恩达</a>
        
                <a data-sort="0052" 
                    href="/archive/?tag=%E5%8A%9B%E6%89%A3"
                    title="力扣"
                    rel="9">力扣</a>
        
                <a data-sort="0052" 
                    href="/archive/?tag=%E7%AE%97%E6%B3%95"
                    title="算法"
                    rel="9">算法</a>
        
                <a data-sort="0059" 
                    href="/archive/?tag=numpy"
                    title="numpy"
                    rel="2">numpy</a>
        
                <a data-sort="0059" 
                    href="/archive/?tag=pandas"
                    title="pandas"
                    rel="2">pandas</a>
    </div>
</section>


                <!-- Friends Blog -->
                
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="https://m.freebuf.com/">freebuf</a></li>
  
  <li><a href="https://xz.aliyun.com/">先知</a></li>
  
  <li><a href="https://www.sec-in.com/All">sec-in</a></li>
  
  <li><a href="https://paper.seebug.org/">see-bug</a></li>
  
  <li><a href="https://twitter.com/Concurr21486093">我的推特</a></li>
  
  <li><a href="https://pdai.tech/">pdai</a></li>
  
  <li><a href="https://nodejs.org/dist/">nodejs index of dist</a></li>
  
  <li><a href="#">公众号：小东方不败</a></li>
  
</ul>

            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- SNS Link -->
                


<ul class="list-inline text-center">


  
  
  <li>
    <a href="https://twitter.com/Concurr21486093">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
  <li>
    <a target="_blank" href="https://www.zhihu.com/people/Hilda">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa  fa-stack-1x fa-inverse">知</i>
      </span>
    </a>
  </li>
  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/kirsten-1">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

                <p class="copyright text-muted">
                    Copyright &copy; Hilda 2025
                    <br>
                    Powered by <a href="https://kirsten-1.github.io/">hilda Blog</a>
<!--                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"-->
<!--                        height="20px"-->
<!--                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true">-->
<!--                    </iframe>-->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->



<!-- Baidu Tongji -->



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>


<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
